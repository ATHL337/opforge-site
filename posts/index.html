<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Project Log | OPFORGE</title>
<meta name=keywords content><meta name=description content="Welcome to the OPFORGE blog â€” a series of posts documenting the evolution of the lab, one Checkâ€“Doâ€“Check at a time."><meta name=author content="Alfredo Pelaez"><link rel=canonical href=https://opforge.dev/posts/><link crossorigin=anonymous href=/assets/css/stylesheet.f49d66caae9ea0fd43f21f29e71a8d3e284517ed770f2aa86fa012953ad3c9ef.css integrity="sha256-9J1myq6eoP1D8h8p5xqNPihFF+13Dyqob6ASlTrTye8=" rel="preload stylesheet" as=style><link rel=icon href=https://opforge.dev/favicon.png><link rel=icon type=image/png sizes=16x16 href=https://opforge.dev/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://opforge.dev/favicon-32x32.png><link rel=apple-touch-icon href=https://opforge.dev/apple-touch-icon.png><link rel=mask-icon href=https://opforge.dev/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://opforge.dev/posts/index.xml><link rel=alternate hreflang=en href=https://opforge.dev/posts/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://opforge.dev/posts/"><meta property="og:site_name" content="OPFORGE"><meta property="og:title" content="Project Log"><meta property="og:description" content="Welcome to the OPFORGE blog â€” a series of posts documenting the evolution of the lab, one Checkâ€“Doâ€“Check at a time."><meta property="og:locale" content="en-us"><meta property="og:type" content="website"><meta property="og:image" content="https://opforge.dev/preview.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://opforge.dev/preview.png"><meta name=twitter:title content="Project Log"><meta name=twitter:description content="Detection Engineering and Threat Emulation Lab"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Project Log","item":"https://opforge.dev/posts/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://opforge.dev/ accesskey=h title="OPFORGE (Alt + H)">OPFORGE</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://opforge.dev/ title=Home><span>Home</span></a></li><li><a href=https://opforge.dev/docs/ title=Docs><span>Docs</span></a></li><li><a href=https://opforge.dev/posts/ title=Posts><span class=active>Posts</span></a></li><li><a href=https://opforge.dev/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><header class=page-header><h1>Project Log</h1></header><div class=post-content>Welcome to the OPFORGE blog â€” a series of posts documenting the evolution of the lab, one Checkâ€“Doâ€“Check at a time.</div><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Hardening OPFORGE: Introducing pfSense for Realistic Network Segmentation and Ingestion Control</h2></header><div class=entry-content><p>ğŸ¯ Why the Change? OPFORGE started as a standalone lab stack running on bridged VMware interfaces. While effective for prototyping, it lacked the network realism needed to validate detection engineering workflows at scale.
So, we leveled up.
ğŸ” Whatâ€™s New? Weâ€™ve now integrated pfSense as the central gateway and firewall, enabling:
ğŸ”€ True Layer 3 segmentation between subnets: 192.168.20.0/24 â€” CSOC infrastructure (SOF-ELK, Domain Controller) 192.168.30.0/24 â€” LAN workstations (MBR01, RED01) 192.168.22.0/24 â€” DMZ for threat emulation 192.168.1.0/24 â€” WAN uplink with internet access ğŸ¯ Controlled routing with testable firewall rules ğŸ§± Policy zones mapped to pfSense firewall aliases: CSOCINFRA, LANWORKSTATIONS, DMZRED ğŸ§ª Realistic paths for log ingestion, threat emulation, and adversary simulation ğŸ“ Architecture Overview [OPF-MBR01] ---+ | +-------------------------------+ [OPF-RED01] ---+------>| opf-fw01 (pfSense) |------> [OPF-LOG01 / SOF-ELK] | | | [OPF-DC01, OPF-FW01] | | em1: 192.168.30.5 (LANWORKSTATIONS) | | em2: 192.168.22.100 (DMZRED) | | em3: 192.168.20.5 (CSOCINFRA) | | em0: 192.168.1.24 (WAN - Internet) +------>| Realistic ACL zones | +-------------------------------+ âœ… Benefits ğŸ§  Operator realism: Windows boxes now live in a LAN, not on a flat bridge ğŸ” Inbound/Outbound ACLs mirror real-world trust boundaries ğŸ§ª Detection scenarios like beaconing, pivoting, and log manipulation can be tested across routed segments ğŸš§ Air-gapped environment with controlled WAN access ğŸ§© Current Logflow Snapshot Winlogbeat exports .evtx-derived logs from LANWORKSTATIONS to SOF-ELK over port 5044 SCP is restricted via firewall rules and managed SSH key exchange Only systems in 192.168.30.0/24 are allowed to interact with Logstash (CSOCINFRA) ğŸ§  Next Up ğŸ” Full DMZ logging for red team emulation in 192.168.22.0/24 ğŸŒ Add Zeek or Suricata to tap and inspect DMZRED ğŸ§° Set up IDS/IPS alert pipelines and visualizations in Kibana ğŸ› ï¸ Trigger event-based enrichment from firewall logs The network just got smarter. The detections will have to keep up.
...</p></div><footer class=entry-footer><span title='2025-05-20 00:00:00 +0000 UTC'>May 20, 2025</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;Alfredo Pelaez</footer><a class=entry-link aria-label="post link to Hardening OPFORGE: Introducing pfSense for Realistic Network Segmentation and Ingestion Control" href=https://opforge.dev/posts/pfsense-infrastructure-upgrade/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>From 404 to Flawless: How OPFORGE Finally Deployed</h2></header><div class=entry-content><p>Blog Post: â€œFrom 404 to Flawless: How OPFORGE Finally Deployedâ€ TL;DR After wrestling with GitHub Pages, Hugo themes, broken submodules, and outdated Hugo versions, OPFORGE.dev is now live â€” built with Hugo + PaperMod and deployed through GitHub Actions. Hereâ€™s how we pulled it off, step-by-step.
ğŸ› ï¸ Background Project: OPFORGE â€” a portfolio-driven site documenting the creation of a cyber detection engineering and threat emulation lab.
Goal: Use Hugo + PaperMod + GitHub Pages to create a professional and performant static site for hosting blog-style documentation.
...</p></div><footer class=entry-footer><span title='2025-05-10 22:30:00 -0500 -0500'>May 10, 2025</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;Alfredo Pelaez</footer><a class=entry-link aria-label="post link to From 404 to Flawless: How OPFORGE Finally Deployed" href=https://opforge.dev/posts/opforge-finally-deployed/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Kibana Data View Setup</h2></header><div class=entry-content><p>Set up a Kibana data view in SOF-ELK to visualize Winlogbeat event data and enable efficient threat hunting in OPFORGE.</p></div><footer class=entry-footer><span title='2025-05-10 21:15:00 -0500 -0500'>May 10, 2025</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;Alfredo Pelaez</footer><a class=entry-link aria-label="post link to Kibana Data View Setup" href=https://opforge.dev/posts/kibana-data-view-setup/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>From Host to Hive: Transferring Logs with PowerShell + SCP</h2></header><div class=entry-content><p>This post describes how to automate the conversion and transfer of Winlogbeat logs from opf-mbr01 to opf-log01 using PowerShell and SCP.</p></div><footer class=entry-footer><span title='2025-05-09 14:00:00 -0500 -0500'>May 9, 2025</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;Alfredo Pelaez</footer><a class=entry-link aria-label="post link to From Host to Hive: Transferring Logs with PowerShell + SCP" href=https://opforge.dev/posts/log-transfer-powershell-scp/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Precision Logging: Exporting Winlogbeat Data from OPFORGE</h2></header><div class=entry-content><p>We configure Winlogbeat on opf-mbr01 to export JSON-formatted logs to disk. This allows enriched post-processing before ingesting into SOF-ELK.</p></div><footer class=entry-footer><span title='2025-05-08 11:30:00 -0500 -0500'>May 8, 2025</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;Alfredo Pelaez</footer><a class=entry-link aria-label="post link to Precision Logging: Exporting Winlogbeat Data from OPFORGE" href=https://opforge.dev/posts/winlogbeat-export-opf-mbr01/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Ingest to Analyze: Bringing SOF-ELK Online</h2></header><div class=entry-content><p>This post walks through the deployment and configuration of opf-log01, the centralized logging VM for OPFORGE, powered by SOF-ELK. From network setup to confirming ELK stack services, this guide ensures a solid foundation for ingesting security-relevant data.</p></div><footer class=entry-footer><span title='2025-05-07 10:00:00 -0500 -0500'>May 7, 2025</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;Alfredo Pelaez</footer><a class=entry-link aria-label="post link to Ingest to Analyze: Bringing SOF-ELK Online" href=https://opforge.dev/posts/opf-log01-sof-elk-setup/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Building the OPFORGE Website</h2></header><div class=entry-content><p>This post documents the process of building the official website for OPFORGE, a cybersecurity lab project focused on detection engineering, threat emulation, and explainable AI.
ğŸ”§ Tooling Stack Hugo â€“ Static site generator (v0.147.1) PaperMod â€“ Lightweight, responsive Hugo theme GitHub Pages â€“ CI/CD-backed static hosting Cloudflare DNS â€“ Domain and HTTPS management Custom Domain â€“ https://opforge.dev ğŸ§± Build Process Created site: hugo new site opforge-site --format yaml Installed theme: git submodule add https://github.com/adityatelange/hugo-PaperMod.git themes/PaperMod Configured hugo.yaml with menus, theme, and metadata
...</p></div><footer class=entry-footer><span title='2025-05-07 08:00:00 -0500 -0500'>May 7, 2025</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;Alfredo Pelaez</footer><a class=entry-link aria-label="post link to Building the OPFORGE Website" href=https://opforge.dev/posts/site-setup/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Forging the Core: Building OPFORGE's Domain Controller</h2></header><div class=entry-content><p>In this post, we configure OPFORGEâ€™s foundational infrastructure by building the domain controller opf-dc01. Weâ€™ll define our network structure, stand up Active Directory, and prepare the environment for workstation and log server integration.</p></div><footer class=entry-footer><span title='2025-05-06 09:00:00 -0500 -0500'>May 6, 2025</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;Alfredo Pelaez</footer><a class=entry-link aria-label="post link to Forging the Core: Building OPFORGE's Domain Controller" href=https://opforge.dev/posts/opf-dc01-domain-controller/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>OPFORGE Overview</h2></header><div class=entry-content><p>Introducing the OPFORGE projectâ€”a purpose-built cyber operations lab focused on threat emulation, detection engineering, and explainable AI.</p></div><footer class=entry-footer><span title='2025-05-04 08:00:00 -0500 -0500'>May 4, 2025</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;Alfredo Pelaez</footer><a class=entry-link aria-label="post link to OPFORGE Overview" href=https://opforge.dev/posts/opforge-overview/></a></article></main><footer class=footer><span>&copy; 2025 <a href=https://opforge.dev/>OPFORGE</a></span> Â·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>